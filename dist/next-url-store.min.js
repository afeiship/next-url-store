!function(){var t=t||this||self||window,e=t.nx||require("next-js-core2"),n=e.Store||require("next-store"),i=e.dom.Event||require("next-dom-event"),s=e.declare("nx.UrlStore",{properties:{session:{get:function(){return this.getter("session")},set:function(t){this.setter("session",t)}},local:{get:function(){return this.getter("local")},set:function(t){this.setter("local",t)}}},methods:{init:function(t){this._uniqKey=t,this._url=location.href,this.sync(),this.attachEvents()},attachEvents:function(){var t=this.sync.bind(this);this._hashEventRes=i.on(window,"hashchange",t),this._popEventRes=i.on(window,"popstate",t)},getter:function(t){return(n[t][this._uniqKey]||{})[this._url]||{}},setter:function(t,i){var s=this.getter(t),o=e.mix(s,i),r=n[t],u=r[this._uniqKey]||{},h={};u[this._url]=o,h[this._uniqKey]=u,n[t]=h},sync:function(){this._url=location.href},clear:function(t){var e=n[t],i=e[this._uniqKey],s={};i&&(i[this._url]=null,s[this._uniqKey]=i,n[t]=s)},clears:function(){var t=(n[inEngine],{});t[this._uniqKey]=null,n[inEngine]=t},destroy:function(){this._hashEventRes.destroy(),this._popEventRes.destroy(),this._uniqKey=null,this._url=null}}});"undefined"!=typeof module&&module.exports&&(module.exports=s)}();