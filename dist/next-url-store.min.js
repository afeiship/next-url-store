!function(){var t=t||this,e=t.nx||require("next-js-core2"),n=e.Store||require("next-store"),s=e.dom.Event||require("next-dom-event"),i=e.declare("nx.UrlStore",{properties:{session:{get:function(){return this.getter("session")},set:function(t){this.setter("session",t)}},local:{get:function(){return this.getter("local")},set:function(t){this.setter("local",t)}}},methods:{init:function(t){this._uniqKey=t,this._url=location.href,this.attachEvents()},attachEvents:function(){var t=this,e=function(e){t._url=e};this._hashEventRes=s.on(window,"hashchange",e),this._popEventRes=s.on(window,"popstate",e)},getter:function(t){return(n[t][this._uniqKey]||{})[this._url]||{}},setter:function(t,s){var i=this.getter(t),o=e.mix(i,s),r=n[t],u=r[this._uniqKey]||{},h={};u[this._url]=o,h[this._uniqKey]=u,n[t]=h},destroy:function(){this._hashEventRes.destroy(),this._popEventRes.destroy(),this._uniqKey=null,this._url=null}}});"undefined"!=typeof module&&module.exports&&(module.exports=i)}();