!function(){var t=t||this||self||window,e=t.nx||require("next-js-core2"),n=e.Store||require("next-store"),s=e.dom.Event||require("next-dom-event"),i=e.declare("nx.UrlStore",{properties:{session:{get:function(){return this.getter("session")},set:function(t){this.setter("session",t)}},local:{get:function(){return this.getter("local")},set:function(t){this.setter("local",t)}}},methods:{init:function(t){this._uniqKey=t,this._url=location.href,this.sync(),this.attachEvents()},attachEvents:function(){var t=this.sync.bind(this);this._hashEventRes=s.on(window,"hashchange",t),this._popEventRes=s.on(window,"popstate",t)},getter:function(t){return(n[t][this._uniqKey]||{})[this._url]||{}},setter:function(t,s){var i=this.getter(t),o=e.mix(i,s),r=n[t],h=r[this._uniqKey]||{},u={};h[this._url]=o,u[this._uniqKey]=h,n[t]=u},sync:function(){this._url=location.href},clear:function(t,e){var s=n[t],i=s[this._uniqKey],o={};i[this._url]=null,o[this._uniqKey]=i,n[t]=o},clears:function(){},destroy:function(){this._hashEventRes.destroy(),this._popEventRes.destroy(),this._uniqKey=null,this._url=null}}});"undefined"!=typeof module&&module.exports&&(module.exports=i)}();